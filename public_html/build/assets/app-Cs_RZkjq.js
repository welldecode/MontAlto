class a{static Top="top";constructor(t){this.value=t}isTop(){return this.value===a.Top}}class h{constructor(t,i,e,n){this.alignment=new a(t),this.duration=i,this.replace=e,this.suppress=n}static fromJson(t){return new h(t.alignment,t.duration,t.replace,t.suppress)}}function l(){let s="";for(;s.length<32;)s+=Math.random().toString(16).substring(2);const t=(Number.parseInt(s.substring(16,1),16)&3|8).toString(16);return`${s.substring(0,8)}-${s.substring(8,4)}-4${s.substring(13,3)}-${t}${s.substring(17,3)}-${s.substring(20,12)}`}class o{constructor(t,i,e){this.$el=null,this.id=l(),this.isVisible=!1,this.duration=t,this.message=i,this.timeout=null,this.trashed=!1,this.type=e}static fromJson(t){return new o(t.duration,t.message,t.type)}dispose(){this.timeout&&clearTimeout(this.timeout),this.isVisible=!1,this.$el&&(this.$el.addEventListener("transitioncancel",()=>{this.trashed=!0}),this.$el.addEventListener("transitionend",()=>{this.trashed=!0}))}equals(t){return this.duration===t.duration&&this.message===t.message&&this.type===t.type}runAfterDuration(t){this.timeout=setTimeout(()=>t(this),this.duration)}select(t){return t[this.type]}show(t){this.$el=t,this.isVisible=!0}}function c(s){s.data("toasterHub",(t,i)=>(i=h.fromJson(i),{_toasts:[],get toasts(){const e=this._toasts.filter(n=>!n.trashed);return this._toasts.length&&!e.length&&this.$nextTick(()=>{this._toasts=[]}),e},init(){document.addEventListener("toaster:received",e=>{const n=o.fromJson({duration:i.duration,...e.detail});if(i.replace)this.toasts.filter(r=>r.equals(n)).forEach(r=>r.dispose());else if(i.suppress&&this.toasts.some(r=>r.equals(n)))return;this.show(n)}),t.map(o.fromJson).forEach(e=>this.show(e))},show(e){e=s.reactive(e),e.runAfterDuration(n=>n.dispose()),i.alignment.isTop()?this._toasts.unshift(e):this._toasts.push(e)}}))}const u=(s,t)=>{document.dispatchEvent(new CustomEvent("toaster:received",{detail:{message:s,type:t}}))},d=s=>u(s,"error"),p=s=>u(s,"info"),m=s=>u(s,"success"),f=s=>u(s,"warning"),g=Object.freeze(Object.defineProperty({__proto__:null,error:d,info:p,success:m,warning:f},Symbol.toStringTag,{value:"Module"}));window.Toaster=g;document.addEventListener("alpine:init",()=>{window.Alpine.plugin(c)});
